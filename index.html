<!doctype html>
<html lang="bg">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Платформа за графици</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <section id="preAuthScreen" class="magos-landing">
      <header class="magos-topbar">
        <div class="magos-brand">
          <div class="magos-brand-mark">M</div>
          <div>
            <strong>Магос</strong>
            <small>счетоводни услуги</small>
          </div>
        </div>
        <nav class="magos-nav">
          <a href="#">Услуги</a>
          <a href="#">Решения</a>
          <a href="#">За нас</a>
          <a href="#">Контакт</a>
        </nav>
        <button type="button" class="magos-cta">Запитване</button>
      </header>

      <div class="magos-hero">
        <div class="magos-hero-copy">
          <span class="magos-kicker">Платформа за графици</span>
          <h1>Ясно планиране на смени за вашия екип</h1>
          <p>
            Организирайте служители, отдели, отпуски и работни графици в една система.
            Подходящо решение за счетоводни къщи и работодатели, които искат контрол и яснота.
          </p>
          <div class="magos-hero-actions">
            <button id="showSignInBtn" type="button">Вход</button>
            <button id="showSignUpBtn" type="button" class="btn-add">Регистрация</button>
          </div>
        </div>

        <div class="magos-auth-card">
          <div id="authSignedInInfo" class="role-permission-note hidden"></div>

          <form id="signInForm" class="employee-form auth-form-card hidden">
            <h3>Вход в профила</h3>
            <input id="loginEmailInput" type="email" required placeholder="Email" />
            <input id="loginPasswordInput" type="password" required placeholder="Парола" />
            <button id="submitSignInBtn" type="submit">Вход в платформата</button>
          </form>

          <section id="chooseTenantScreen" class="auth-form-card hidden">
            <h3>Избери фирма</h3>
            <p>Този акаунт има достъп до повече от една фирма. Изберете с коя да продължите.</p>
            <div id="chooseTenantList" class="tenant-choice-list"></div>
          </section>

          <form id="registrationForm" class="employee-form auth-form-card hidden">
            <h3>Регистрация на организация</h3>
            <input id="companyNameInput" required placeholder="Име на фирма/организация" />
            <input id="companyEikInput" required pattern="\d{9,13}" placeholder="ЕИК (9 до 13 цифри)" />
            <input id="ownerFullNameInput" required placeholder="Имена на собственик" />
            <input id="ownerEmailInput" type="email" required placeholder="Email на собственика" />
            <input id="ownerPhoneInput" required placeholder="Телефон" />
            <input id="ownerPasswordInput" type="password" minlength="8" required placeholder="Парола (мин. 8 символа)" />
            <input id="ownerPasswordConfirmInput" type="password" minlength="8" required placeholder="Повтори парола" />
            <button id="submitRegistrationBtn" class="btn-add" type="submit">Създай профил</button>
          </form>
        </div>
      </div>
    </section>

    <div id="appShell" class="hidden">
    <header>
      <h1>Планиране на смени</h1>
      <p>Управление на отдели, длъжности, графици, отпуски и болнични.</p>
      <small id="storageStatus" class="status-toast status-warn status-toast-visible">Проверка за PostgreSQL бекенд...</small>
      <div class="backend-connection-indicator" aria-live="polite">
        <span id="backendConnectionDot" class="backend-connection-dot backend-connection-dot--offline" title="Няма връзка"></span>
        <span>Връзка към сървъра</span>
      </div>
      <div class="api-config">
        <label for="apiUrlInput">API URL:</label>
        <input id="apiUrlInput" type="text" placeholder="http://46.183.117.128:4000" />
        <button id="saveApiUrlBtn" type="button">Свържи</button>
        <label for="userRoleSelect">Роля:</label>
        <select id="userRoleSelect">
          <option value="user">Потребител</option>
          <option value="manager">Мениджър</option>
          <option value="admin">Администратор</option>
          <option value="owner">Собственик</option>
        </select>
        <a id="superAdminPortalLink" href="super-admin.html" target="_blank" class="super-admin-link hidden">Супер админ панел</a>
        <label for="tenantSwitcherSelect" class="hidden" id="tenantSwitcherLabel">Фирма:</label>
        <select id="tenantSwitcherSelect" class="hidden"></select>
        <button id="logoutBtn" type="button" class="hidden">Изход</button>
      </div>
    </header>

    <main class="app-layout">
      <aside class="sidebar panel">
        <h2>Навигация</h2>
        <div class="side-tabs">
          <button type="button" class="tab-btn active" data-tab="scheduleTab">График</button>
          <button type="button" class="tab-btn" data-tab="employeesTab">Служители</button>
          <button type="button" class="tab-btn" data-tab="departmentsTab">Отдели</button>
          <button type="button" class="tab-btn" data-tab="vacationTab">Отпуски</button>
          <button type="button" class="tab-btn" data-tab="settingsTab">Настройки</button>
          <button type="button" class="tab-btn" data-tab="helpTab">FAQ / Help</button>
        </div>
      </aside>

      <div class="content-grid">
        <section id="scheduleTab" class="panel tab-panel active">
          <h2>Месечен график</h2>
          <div class="row">
            <label for="monthPicker">Месец:</label>
            <input id="monthPicker" type="month" />
            <button id="generateBtn" type="button">Генерирай календар</button>
          </div>

          <div class="panel" style="margin: 12px 0;">
            <h3>Графици</h3>
            <div class="schedule-controls">
              <div class="schedule-controls-row schedule-controls-row--single">
                <label for="scheduleFilterDepartmentSelect">Отдел (преглед)</label>
                <select id="scheduleFilterDepartmentSelect"></select>
              </div>
              <div class="schedule-controls-row schedule-controls-row--single schedule-controls-row--stacked">
                <div class="schedule-multi-actions">
                  <strong>Избери отдели/графици</strong>
                  <button id="scheduleSelectAllDepartmentsBtn" type="button">Маркирай всички</button>
                  <button id="scheduleClearDepartmentsBtn" type="button">Изчисти</button>
                  <label for="scheduleViewModeSelect">Режим</label>
                  <select id="scheduleViewModeSelect">
                    <option value="combined">Комбиниран</option>
                    <option value="sections">По отдел секции</option>
                  </select>
                </div>
                <div id="scheduleDepartmentMultiSelect" class="schedule-multi-select"></div>
                <div id="scheduleDepartmentChips" class="schedule-dept-chips"></div>
              </div>
              <div class="schedule-controls-row">
                <label for="scheduleDepartmentSelect">Отдел (създаване)</label>
                <select id="scheduleDepartmentSelect"></select>
                <label for="scheduleNameInput">Име на график</label>
                <input id="scheduleNameInput" type="text" placeholder="График Общ – 2026-02" />
                <button id="createScheduleBtn" type="button">Създай график</button>
              </div>
            </div>
            <div>
              <strong>Покажи графици за месеца</strong>
              <div id="scheduleList" class="schedule-list"></div>
            </div>
          </div>

          <div class="row actions-row">
            <button id="lockScheduleBtn" type="button">Заключи график</button>
            <button id="unlockScheduleBtn" type="button">Отключи</button>
            <button id="exportExcelBtn" type="button">Експорт Excel</button>
            <button id="exportPdfBtn" type="button">Експорт PDF</button>
            <span id="lockStatus" class="lock-status">Статус: Отключен</span>
          </div>
          <div class="panel" style="margin: 12px 0;">
            <h3>Управление на отсъствия</h3>
            <div class="row">
              <select id="leaveEmployeeSelect"></select>
              <select id="leaveTypeSelect"></select>
              <input id="leaveFromInput" type="date" />
              <input id="leaveToInput" type="date" />
              <input id="leaveMinutesInput" type="number" min="1" placeholder="минути/ден (по избор)" />
              <button id="addLeaveBtn" type="button">Добави отсъствие</button>
            </div>
            <div id="leaveList" class="schedule-list"></div>
          </div>
          <div id="monthInfo" class="month-info"></div>
          <div id="scheduleOverviewPanel" class="schedule-overview-panel"></div>
          <div class="legend" id="shiftLegend"></div>
          <div class="table-wrap">
            <table id="scheduleTable"></table>
          </div>
        </section>

        <section id="employeesTab" class="panel tab-panel">
          <h2>Служители</h2>
          <form id="employeeForm" class="employee-form">
            <div class="form-field">
              <label for="firstNameInput" class="field-label">Собствено име</label>
              <input id="firstNameInput" required placeholder="Собствено име" />
              <small class="field-help">Собствено име на служителя.</small>
            </div>
            <div class="form-field">
              <label for="middleNameInput" class="field-label">Бащино име</label>
              <input id="middleNameInput" required placeholder="Бащино име" />
              <small class="field-help">Бащино име на служителя.</small>
            </div>
            <div class="form-field">
              <label for="lastNameInput" class="field-label">Фамилия</label>
              <input id="lastNameInput" required placeholder="Фамилия" />
              <small class="field-help">Фамилно име на служителя.</small>
            </div>
            <div class="form-field">
              <label for="departmentInput" class="field-label">Отдел</label>
              <select id="departmentInput">
                <option value="">Без отдел</option>
              </select>
              <small class="field-help">Отделът, в който ще се включи в графика.</small>
            </div>
            <div class="form-field">
              <label for="positionInput" class="field-label">Длъжност</label>
              <input id="positionInput" required placeholder="Длъжност" />
              <small class="field-help">Текуща длъжност на служителя.</small>
            </div>
            <div class="form-field">
              <label for="egnInput" class="field-label">ЕГН</label>
              <input id="egnInput" required maxlength="10" pattern="\d{10}" placeholder="ЕГН (10 цифри)" />
              <small class="field-help">ЕГН с точно 10 цифри.</small>
            </div>
            <div class="form-field">
              <label for="startDateInput" class="field-label">Начална дата</label>
              <input id="startDateInput" type="date" required />
              <small class="field-help">Дата на постъпване за пропорционален отпуск.</small>
            </div>
            <div class="form-field">
              <label for="endDateInput" class="field-label">Последен работен ден</label>
              <input id="endDateInput" type="date" />
              <small class="field-help">Оставете празно, ако е без крайна дата.</small>
            </div>
            <div class="form-field">
              <small id="vacationAllowanceHint" class="vacation-allowance-hint">Полагаем за годината: 20 дни</small>
              <input id="vacationAllowanceInput" type="number" min="0" value="20" required placeholder="Годишен отпуск" aria-label="Годишен отпуск (въвеждане)" />
              <small class="field-help vacation-allowance-caption">Годишен отпуск (въвеждане)</small>
            </div>
            <div class="form-field form-field--checkbox">
              <label class="field-inline field-checkbox">
                <input id="telkInput" type="checkbox" />
                <span>ТЕЛК (+6 дни отпуск)</span>
                <span class="hover-tooltip" tabindex="0" aria-label="Инфо за ТЕЛК">
                  ?
                  <span class="hover-tooltip__text">с 50% и над 50%</span>
                </span>
              </label>
              <small class="field-help">Добавя допълнителни 6 дни към изчислението.</small>
            </div>
            <div class="form-field form-field--checkbox">
              <label class="field-inline field-checkbox">
                <input id="youngWorkerInput" type="checkbox" />
                <span>Служители от 16 - 18 г. (+6 дни отпуск)</span>
                <span class="hover-tooltip" tabindex="0" aria-label="Инфо за служители от 16 до 18 години">
                  ?
                  <span class="hover-tooltip__text">с разрешение от родител и ИТ</span>
                </span>
              </label>
              <small class="field-help">Добавя допълнителни 6 дни за непълнолетни служители.</small>
            </div>
            <div class="form-field form-field--checkbox">
              <label class="field-inline field-checkbox">
                <input id="employeeIsSirvInput" type="checkbox" />
                <span>Работи на СИРВ (сумирано изчисляване на работното време)</span>
              </label>
            </div>
            <div id="employeeSirvPeriodField" class="form-field form-field--checkbox hidden">
              <label for="employeeSirvPeriodInput" class="field-label">Отчетен период (месеци)</label>
              <select id="employeeSirvPeriodInput">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="6">6</option>
              </select>
            </div>
            <div class="form-field form-field--action">
              <button type="submit" class="btn-add">Добави служител</button>
              <small class="field-help">Записва служителя и го добавя в графика.</small>
            </div>
          </form>
          <div id="employeeList" class="employee-list"></div>
        </section>


        <section id="departmentsTab" class="panel tab-panel">
          <h2>Отдели</h2>
          <form id="departmentForm" class="row">
            <input id="departmentNameInput" required placeholder="Име на отдел" />
            <button type="submit" class="btn-add">Добави отдел</button>
          </form>
          <div id="departmentList" class="employee-list"></div>
        </section>

        <section id="vacationTab" class="panel tab-panel">
          <h2>Отпуски</h2>
          <form id="vacationForm" class="row">
            <select id="vacationEmployeeSelect" required></select>
            <input id="vacationStartInput" type="date" required />
            <input id="vacationDaysInput" type="number" min="1" step="1" required placeholder="Брой работни дни" />
            <button type="submit">Маркирай отпуск</button>
          </form>
          <div class="row vacation-filters-row">
            <select id="vacationDepartmentFilterSelect">
              <option value="all">Всички отдели</option>
            </select>
            <input id="vacationSearchInput" type="search" placeholder="Търси по име" aria-label="Търси по име" />
          </div>
          <div id="vacationLedger"></div>
        </section>

        <section id="settingsTab" class="panel tab-panel">
          <h2>Настройки</h2>
          <div class="settings-subtabs">
            <button type="button" class="settings-subtab-btn active" data-settings-tab="summarySettingsPanel">Обобщения</button>
            <button type="button" class="settings-subtab-btn" data-settings-tab="calculationsSettingsPanel">Изчисления</button>
            <button type="button" class="settings-subtab-btn" data-settings-tab="shiftsSettingsPanel">Смени</button>
            <button type="button" class="settings-subtab-btn" data-settings-tab="usersSettingsPanel">Потребители</button>
            <button type="button" class="settings-subtab-btn" data-settings-tab="holidaysSettingsPanel">Календар / Празници</button>
          </div>

          <div id="summarySettingsPanel" class="settings-subtab-panel active">
            <p>Изберете кои обобщени полета да се показват в графика:</p>
            <div id="summarySettingsList" class="settings-list"></div>
          </div>

          <div id="calculationsSettingsPanel" class="settings-subtab-panel">
            <h3>Сумирано работно време и положен труд</h3>
            <p>
              Нормата за месеца = (работни дни без официални празници) × 8 ч. При СИРВ може да изберете период 1–6 месеца;
              нощните часове (22:00–06:00) се приравняват с коефициент 1.14286. Отчетът показва извънредния труд за периода.
            </p>
            <form id="ratesForm" class="row">
              <label for="weekendRateInput">Коефициент почивен ден:</label>
              <input id="weekendRateInput" type="number" min="1" step="0.05" value="1.75" />
              <label for="holidayRateInput">Коефициент официален празник:</label>
              <input id="holidayRateInput" type="number" min="1" step="0.05" value="2" />
              <label for="sirvPeriodInput">Период СИРВ (месеци):</label>
              <input id="sirvPeriodInput" type="number" min="1" max="4" step="1" value="1" />
              <button type="submit">Запази коефициенти</button>
            </form>
          </div>

          <div id="shiftsSettingsPanel" class="settings-subtab-panel">
            <h3>Смени на отдела (начало/край)</h3>
            <p>Смените тук са само за избрания отдел. Ако няма отделни смени, се ползват global смени.</p>
            <form id="shiftForm" class="row">
              <input id="shiftCodeInput" maxlength="4" required placeholder="Код (напр. D1)" />
              <input id="shiftNameInput" required placeholder="Име на смяна" />
              <select id="shiftDepartmentInput">
                <option value="">Всички отдели (global)</option>
              </select>
              <input id="shiftStartInput" type="time" required />
              <input id="shiftEndInput" type="time" required />
              <input id="shiftBreakMinutesInput" type="number" min="0" step="1" value="0" placeholder="Почивка (мин)" />
              <label><input id="shiftBreakIncludedInput" type="checkbox" /> Почивката е включена</label>
              <button type="submit">Добави смяна</button>
            </form>
            <div class="row shift-import-row">
              <button type="button" id="downloadShiftImportTemplateBtn">Свали шаблон</button>
              <input id="shiftImportFileInput" type="file" accept=".csv,.xlsx" />
              <button type="button" id="shiftImportPreviewBtn">Импорт от Excel/CSV</button>
              <select id="shiftImportDepartmentInput">
                <option value="">Изберете отдел</option>
              </select>
              <label><input type="checkbox" id="shiftImportUpdateDuplicatesInput" /> Update duplicates</label>
              <button type="button" id="shiftImportCommitBtn">Commit</button>
            </div>
            <div id="shiftImportSummary" class="shift-import-summary"></div>
            <div id="shiftImportPreview" class="shift-import-preview"></div>
            <div id="shiftList" class="shift-list"></div>
            <small>Смените „Почивка“, „Отпуск“ и „Болничен“ са системни и не се трият.</small>
          </div>


          <div id="holidaysSettingsPanel" class="settings-subtab-panel">
            <h3>Календар / Празници</h3>
            <div class="row" style="align-items:center; gap:8px; margin-bottom:10px;">
              <label for="holidaysYearInput">Година:</label>
              <input id="holidaysYearInput" type="number" min="1970" max="2100" step="1" />
              <button id="holidaysReloadBtn" type="button">Зареди</button>
            </div>
            <form id="holidayForm" class="row" style="margin-bottom:10px; flex-wrap: wrap;">
              <input name="date" type="date" required />
              <input name="name" type="text" required placeholder="Име" />
              <label><input name="is_company_day_off" type="checkbox" checked /> Фирмен почивен ден</label>
              <label><input name="is_working_day_override" type="checkbox" /> Този ден е работен (override)</label>
              <input name="note" type="text" placeholder="Бележка" />
              <button type="submit">Запази</button>
            </form>
            <div class="table-wrap">
              <table>
                <thead><tr><th>Date</th><th>Name</th><th>Type</th><th>Actions</th></tr></thead>
                <tbody id="holidaysTableBody"></tbody>
              </table>
            </div>
          </div>

          <div id="usersSettingsPanel" class="settings-subtab-panel">
            <h3>Потребители</h3>
            <p>Изберете служител от списъка и му задайте достъп до системата с email, парола и роля.</p>
            <form id="createPlatformUserForm" class="employee-form">
              <select id="platformUserEmployeeInput" required>
                <option value="">Изберете служител</option>
              </select>
              <input id="platformUserEmailInput" type="email" required placeholder="Email" />
              <div class="row">
                <input id="platformUserPasswordInput" type="text" minlength="8" required placeholder="Парола" />
                <button id="generatePlatformPasswordBtn" type="button">Генерирай парола</button>
              </div>
              <select id="platformUserRoleInput">
                <option value="manager">Мениджър</option>
                <option value="user">Потребител</option>
              </select>
              <button class="btn-add" type="submit">Добави потребител</button>
            </form>

            <div class="row" style="margin-top:10px; align-items:center; gap:10px;">
              <h4 style="margin:0;">Списък с потребители</h4>
              <button id="refreshPlatformUsersBtn" type="button">Обнови</button>
            </div>
            <div id="platformUsersList" class="employee-list"></div>
          </div>
        </section>

        <section id="helpTab" class="panel tab-panel marketing-panel">
          <h2>FAQ / Help — пълни инструкции за работа с платформата</h2>
          <p>
            Тази секция описва подробно как се работи с всички налични функционалности: първоначална настройка, отдели,
            служители, графици, отпуски, изчисления, заключване, експорт и поддръжка. Ползвайте я като вътрешно ръководство
            за администратори, HR и ръководители на екипи.
          </p>

          <div class="marketing-columns help-columns">
            <article>
              <h3>1) Първо стартиране и връзка с API</h3>
              <ol>
                <li>Отворете платформата и проверете статуса под заглавието.</li>
                <li>Въведете валиден <strong>API URL</strong> (пример: <code>http://46.183.117.128:4000</code>).</li>
                <li>Натиснете <strong>„Свържи“</strong>.</li>
                <li>При успешна връзка всички данни (служители, графици, отпуски, смени) се синхронизират от бекенда.</li>
              </ol>
              <p><strong>Важно:</strong> при липса на връзка платформата продължава да работи с локално съхранени данни.</p>
            </article>

            <article>
              <h3>2) Отдели — структура на организацията</h3>
              <ul>
                <li>В таб <strong>„Отдели“</strong> добавяте нов отдел по име.</li>
                <li>Смяна на име става с клик върху името на отдела.</li>
                <li>Изтриване е възможно само ако няма служители в този отдел.</li>
                <li>Създадените отдели се използват във всички останали модули (служители и графици).</li>
              </ul>
            </article>

            <article>
              <h3>3) Служители — въвеждане и поддръжка</h3>
              <ul>
                <li>Задължителни полета: три имена, длъжност, ЕГН (10 цифри), годишен отпуск.</li>
                <li>Всеки служител може да бъде асоцииран към отдел от падащото меню.</li>
                <li>Може да редактирате служител през бутона <strong>„Редакция“</strong>.</li>
                <li>Всеки служител има <strong>начална дата</strong> и <strong>последен работен ден</strong> (по избор).</li>
                <li>Клетките извън периода на назначение се визуализират в сиво и не влизат в изчисленията.</li>
              </ul>
            </article>

            <article>
              <h3>4) Месечен график — основен работен процес</h3>
              <ol>
                <li>Изберете месец от <strong>„Месец“</strong>.</li>
                <li>Натиснете <strong>„Генерирай календар“</strong>.</li>
                <li>Изберете отдел за преглед или създайте нов график за отдел чрез <strong>„Създай график“</strong>.</li>
                <li>Маркирайте кои графици са активни в секцията <strong>„Покажи графици за месеца“</strong>.</li>
                <li>За всеки служител задавайте смени по дни чрез падащите менюта в таблицата.</li>
              </ol>
            </article>

            <article>
              <h3>5) Отпуски</h3>
              <ul>
                <li>Изберете служител и период (начална и крайна дата).</li>
                <li>Натиснете <strong>„Маркирай отпуск“</strong>.</li>
                <li>Системата пази хронология на отпуските в секцията под формата.</li>
                <li>Отпуските участват в обобщенията и визуализацията на графика.</li>
              </ul>
            </article>

            <article>
              <h3>6) Настройки → Изчисления</h3>
              <ul>
                <li>Настройвате коефициенти за почивен ден и официален празник.</li>
                <li>Задавате период на СИРВ (1–6 месеца).</li>
                <li>Месечната норма и извънредният труд се изчисляват автоматично в обобщенията.</li>
                <li>Нощният труд (22:00–06:00) се приравнява с действащия коефициент.</li>
              </ul>
            </article>

            <article>
              <h3>7) Настройки → Смени</h3>
              <ul>
                <li>Добавяте персонализирани смени с код, име, начален и краен час.</li>
                <li>Наличните смени се показват като легенда в графика.</li>
                <li>Системните смени „Почивка“, „Отпуск“ и „Болничен“ не могат да бъдат изтрити.</li>
                <li>При изтриване на потребителска смяна, кодът се заменя автоматично там, където е използван.</li>
              </ul>
            </article>

            <article>
              <h3>8) Заключване и експорт</h3>
              <ul>
                <li><strong>„Заключи график“</strong> спира редакции за текущия месец.</li>
                <li><strong>„Отключи“</strong> връща възможността за промени.</li>
                <li>Експортите <strong>Excel</strong> и <strong>PDF</strong> генерират текущата таблица за отчет и архив.</li>
              </ul>
            </article>
          </div>

          <h3>Често задавани въпроси (FAQ)</h3>
          <div class="benefits-grid faq-grid">
            <article>
              <h4>Защо не виждам служител в графика?</h4>
              <p>
                Проверете дали служителят е към отдел, за който има активен график в текущия месец, и дали самият график е
                маркиран за показване.
              </p>
            </article>
            <article>
              <h4>Защо поле не се редактира?</h4>
              <p>
                Най-честата причина е заключен месец. Проверете статуса до бутоните за заключване/отключване.
              </p>
            </article>
            <article>
              <h4>Какво да правя при промяна в екипа по средата на месеца?</h4>
              <p>
                Добавете или редактирайте служителя в таб „Служители“, след което актуализирайте смените му в текущия график.
              </p>
            </article>
          </div>

          <p class="marketing-note">
            <strong>Политика за бъдещи промени:</strong> при добавяне на нова функционалност или промяна на съществуваща,
            актуализирайте този FAQ/Help <strong>веднага в същия release</strong> с: цел, стъпки за работа, ограничения,
            примерен сценарий и кой модул е засегнат. Това е задължително изискване за поддръжка на платформата.
          </p>
        </section>
      </div>
    </main>


    <div id="vacationCorrectionModal" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="vacationCorrectionTitle">
      <div class="modal-card">
        <h3 id="vacationCorrectionTitle">Корекция на период отпуск</h3>
        <form id="vacationCorrectionModalForm" class="employee-edit-form">
          <label class="field-inline">Нова начална дата <input id="vacationCorrectionModalStartInput" type="date" required /></label>
          <label class="field-inline">Брой работни дни <input id="vacationCorrectionModalDaysInput" type="number" min="1" step="1" required /></label>
          <div id="vacationCorrectionModalInfo" class="role-permission-note"></div>
          <div class="modal-actions">
            <button type="submit" class="btn-edit">Запази корекция</button>
            <button id="cancelVacationCorrectionModalBtn" type="button">Отказ</button>
          </div>
        </form>
      </div>
    </div>

    <div id="employeeEditModal" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="employeeEditTitle">
      <div class="modal-card">
        <h3 id="employeeEditTitle">Редакция на служител</h3>
        <form id="employeeEditForm" class="employee-edit-form">
          <input id="editFirstNameInput" required placeholder="Собствено име" />
          <input id="editMiddleNameInput" required placeholder="Бащино име" />
          <input id="editLastNameInput" required placeholder="Фамилия" />
          <select id="editDepartmentInput">
            <option value="">Без отдел</option>
          </select>
          <input id="editPositionInput" required placeholder="Длъжност" />
          <input id="editEgnInput" required maxlength="10" pattern="\d{10}" placeholder="ЕГН (10 цифри)" />
          <label class="field-inline">Начална дата <input id="editStartDateInput" type="date" required /></label>
          <label class="field-inline">Последен работен ден <input id="editEndDateInput" type="date" /></label>
          <input id="editVacationAllowanceInput" type="number" min="0" required placeholder="Годишен отпуск" />
          <div class="employee-edit-checkboxes employee-edit-form__full-row">
            <label class="field-inline field-checkbox employee-edit-checkbox-item">
              <input id="editTelkInput" type="checkbox" />
              <span>ТЕЛК (+6 дни отпуск)</span>
              <span class="hover-tooltip" tabindex="0" aria-label="Инфо за ТЕЛК">
                ?
                <span class="hover-tooltip__text">с 50% и над 50%</span>
              </span>
            </label>
            <label class="field-inline field-checkbox employee-edit-checkbox-item">
              <input id="editYoungWorkerInput" type="checkbox" />
              <span>Служители от 16 - 18 г. (+6 дни отпуск)</span>
              <span class="hover-tooltip" tabindex="0" aria-label="Инфо за служители от 16 до 18 години">
                ?
                <span class="hover-tooltip__text">с разрешение от родител и ИТ</span>
              </span>
            </label>
            <label class="field-inline field-checkbox employee-edit-checkbox-item employee-edit-checkbox-item--sirv">
              <input id="editEmployeeIsSirvInput" type="checkbox" />
              <span>Работи на СИРВ (сумирано изчисляване на работното време)</span>
            </label>
          </div>
          <div id="editEmployeeSirvPeriodField" class="employee-edit-form__full-row hidden">
            <label for="editEmployeeSirvPeriodInput" class="field-label">Отчетен период (месеци)</label>
            <select id="editEmployeeSirvPeriodInput">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="6">6</option>
            </select>
          </div>
          <div class="modal-actions">
            <button type="submit">Запази</button>
            <button id="cancelEmployeeEditBtn" type="button">Отказ</button>
          </div>
        </form>
      </div>
    </div>

    </div>

    <script src="./scheduleTotals.js"></script>
    <script src="./scheduleGrouping.js"></script>
    <script src="./app.js"></script>
    <script src="./welcome.js"></script>
  </body>
</html>
