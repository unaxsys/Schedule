# Платформа за графици с PostgreSQL бекенд

## Стартиране
1. Копирайте `.env.example` в `.env` и попълнете PostgreSQL настройките.
2. Създайте база данни и изпълнете `db.schema.sql`.
3. Инсталирайте зависимости: `npm install`.
4. Стартирайте бекенда: `npm start`.
5. Отворете приложението:
   - директно от бекенда: `http://<server>:4000` (препоръчително), или
   - от друг порт/уеб сървър и задайте `API URL` в горната част (пример: `http://<server>:4000`) и натиснете **Свържи**.

## Какво има
- Ляво меню с табове: **График**, **Служители**, **Отпуски**, **Изчисления**.
- Автоматично маркиране на официални/национални празници + уикенди в календара.
- Управление на служители и годишен отпуск.
- Въвеждане на отпуск по период за избрания месец.
- Създаване на смени с различен начален/краен час (напр. дневна, вечерна, нощна).
- Изчисляване на сумирано работно време:
  - норма по месец (работни дни × 8 ч),
  - отклонение от нормата,
  - отчетен труд в официални празници,
  - отчетен труд в почивни дни,
  - платими часове според коефициенти,
  - приравняване на нощния труд (22:00–06:00) с коефициент 1.14286,
  - СИРВ отчет за период 1–6 месеца с автоматично изчисляване на извънреден труд.
- Заключване/отключване на график по месец.
- Експорт на готов график към Excel (`.xls`) и PDF (чрез print dialog).
- Express API:
  - `GET /api/health`
  - `GET /api/state`
  - `POST /api/employees`
  - `DELETE /api/employees/:id`
  - `POST /api/schedule-entry`
  - `POST /api/shift-template`
  - `DELETE /api/shift-template/:code`
- PostgreSQL съхранение за служители, смени и дневни записи по месеци (данните остават след рестарт/обновяване на приложението).
